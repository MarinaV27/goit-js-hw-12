{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nexport async function getImages(query, currentPage) {\n    const BASE_URL = 'https://pixabay.com/api/';\n    const params = {\n      key: '43180958-6b06a0884e2ebb29e4f1cb8bf',\n      q: query,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: 'true',\n      per_page: 15,\n      page: currentPage,\n    };\n    try {\n      const res = await axios.get(BASE_URL, {params});\n      return res.data\n    } catch (error) {\n        console.error('Error occurred while fetching images:', error);\n        throw error;\n      };\n  }","export function renderImages(imagesArr) {\n    return imagesArr\n      .map(\n        ({\n          webformatURL,\n          largeImageURL,\n          tags,\n          likes,\n          views,\n          comments,\n          downloads,\n        }) => {\n          return `<li class=\"list-item\">\n       <a class=\"gallery-link\" href =\"${largeImageURL}\">\n       <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"gallery-image\"\n       </a>\n       \n        <ul class=\"information-list\">\n          <li class=\"item-information-container\">\n            <h2 class=\"main-info\"> Likes </h2>\n              <p class=\"info\">${likes}</p>\n            \n          </li>\n          <li class=\"item-information-container\">\n            <h2 class=\"main-info\"> Views </h2>\n              <p class=\"info\">${views}</p>\n            \n          </li>\n          <li class=\"item-information-container\">\n            <h2 class=\"main-info\"> Comments </h2>\n              <p class=\"info\">${comments}</p>\n            \n          </li>\n          <li class=\"item-information-container\">\n            <h2 class=\"main-info\"> Downloads </h2>\n              <p class=\"info\">${downloads}</p>\n          </li>\n        </ul>\n     \n      </li>`;\n        }\n      )\n      .join('');\n  }","import axios from 'axios';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { getImages } from './js/pixabay-api';\nimport { renderImages } from './js/render-functions';\n\nconst form = document.querySelector('.search-form');\nconst list = document.querySelector('.list');\nconst load = document.querySelector('.loader');\nconst btnLoadMore = document.querySelector('.btn-load-more');\n\nform.addEventListener('submit', handleImages);\n\n\nasync function handleImages(event) {\n    event.preventDefault();\n    load.classList.add('loader');\n    const input = event.target.elements.search.value.trim();\n    if (input === '') {\n      iziToast.error({\n        backgroundColor: 'lightred',\n        icon: false,\n        progressBar: false,\n        close: false,\n        position: 'topRight',\n        message: 'Please, fill the field!',\n      });\n      return;\n    }\n    try {\n    const value = await getImages(input)\n        if (value.hits && value.hits.length === 0) {\n          iziToast.error({\n            backgroundColor: 'red',\n            progressBar: false,\n            close: false,\n            position: 'topRight',\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n          });\n        }\n  \n        const markup = renderImages(value.hits);\n        list.innerHTML = markup;\n        const lightbox = new SimpleLightbox('.gallery-link', {\n          captionsData: 'alt',\n        });\n        lightbox.refresh();\n      \n      } catch (error) {\n        console.error('Error occurred while fetching images:', error);\n        iziToast.error({\n          backgroundColor: 'red',\n          icon: false,\n          progressBar: false,\n          close: false,\n          position: 'topRight',\n          message:\n            'Sorry, an error occurred while fetching images. Please try again!',\n        });\n      }\n      //.finally(() => load.classList.remove('loader'));\n    //event.target.reset();\n  }\nfunction showLoadMore() {\n  btnLoadMore.classList.remove('hidden');\n}\nfunction hideLoadMore() {\n  btnLoadMore.classList.add('hidden')\n}"],"names":["getImages","query","currentPage","BASE_URL","params","axios","error","renderImages","imagesArr","webformatURL","largeImageURL","tags","likes","views","comments","downloads","form","list","load","handleImages","event","input","iziToast","value","markup","SimpleLightbox"],"mappings":"owBAEO,eAAeA,EAAUC,EAAOC,EAAa,CAChD,MAAMC,EAAW,2BACXC,EAAS,CACb,IAAK,qCACL,EAAGH,EACH,WAAY,QACZ,YAAa,aACb,WAAY,OACZ,SAAU,GACV,KAAMC,CACZ,EACI,GAAI,CAEF,OADY,MAAMG,EAAM,IAAIF,EAAU,CAAC,OAAAC,CAAM,CAAC,GACnC,IACZ,OAAQE,EAAO,CACZ,cAAQ,MAAM,wCAAyCA,CAAK,EACtDA,CAEd,CAAA,CCpBO,SAASC,EAAaC,EAAW,CACpC,OAAOA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACV,IACiB;AAAA,wCACuBL,CAAa;AAAA,mBAClCD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAMbC,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA,gCAKLC,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA,gCAKLC,CAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,gCAKRC,CAAS;AAAA;AAAA;AAAA;AAAA,YAMlC,EACA,KAAK,EAAE,CACd,CClCA,MAAMC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAO,SAAS,cAAc,SAAS,EACzB,SAAS,cAAc,gBAAgB,EAE3DF,EAAK,iBAAiB,SAAUG,CAAY,EAG5C,eAAeA,EAAaC,EAAO,CAC/BA,EAAM,eAAc,EACpBF,EAAK,UAAU,IAAI,QAAQ,EAC3B,MAAMG,EAAQD,EAAM,OAAO,SAAS,OAAO,MAAM,OACjD,GAAIC,IAAU,GAAI,CAChBC,EAAS,MAAM,CACb,gBAAiB,WACjB,KAAM,GACN,YAAa,GACb,MAAO,GACP,SAAU,WACV,QAAS,yBACjB,CAAO,EACD,MACD,CACD,GAAI,CACJ,MAAMC,EAAQ,MAAMvB,EAAUqB,CAAK,EAC3BE,EAAM,MAAQA,EAAM,KAAK,SAAW,GACtCD,EAAS,MAAM,CACb,gBAAiB,MACjB,YAAa,GACb,MAAO,GACP,SAAU,WACV,QACE,0EACd,CAAW,EAGH,MAAME,EAASjB,EAAagB,EAAM,IAAI,EACtCN,EAAK,UAAYO,EACA,IAAIC,EAAe,gBAAiB,CACnD,aAAc,KACxB,CAAS,EACQ,QAAO,CAEjB,OAAQnB,EAAO,CACd,QAAQ,MAAM,wCAAyCA,CAAK,EAC5DgB,EAAS,MAAM,CACb,gBAAiB,MACjB,KAAM,GACN,YAAa,GACb,MAAO,GACP,SAAU,WACV,QACE,mEACZ,CAAS,CACF,CAGP"}